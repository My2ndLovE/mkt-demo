# Database Configuration
# Azure SQL Database connection string
DATABASE_URL="sqlserver://your-server.database.windows.net:1433;database=lottery-sandbox;user=your-user;password=your-password;encrypt=true;trustServerCertificate=false;hostNameInCertificate=*.database.windows.net;loginTimeout=30;"

# Application Configuration
NODE_ENV="development"
PORT=3000
API_PREFIX="api/v1"

# JWT Authentication
JWT_SECRET="your-super-secret-jwt-key-change-in-production"
JWT_EXPIRES_IN="15m"
JWT_REFRESH_SECRET="your-super-secret-refresh-key-change-in-production"
JWT_REFRESH_EXPIRES_IN="7d"

# CORS Configuration
CORS_ORIGIN="http://localhost:5173,http://localhost:3000"

# Rate Limiting
THROTTLE_TTL=900000
THROTTLE_LIMIT=5

# Azure Functions Configuration
WEBSITE_TIME_ZONE="Asia/Kuala_Lumpur"
FUNCTIONS_WORKER_RUNTIME="node"

# Encryption Configuration
# Used to encrypt sensitive data (API keys, tokens) before storing in database
# Generate a secure key with: openssl rand -hex 32
# OR: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
# CRITICAL: Use different keys for dev/staging/production
# PRODUCTION: Store in Azure Key Vault (recommended)
# DEVELOPMENT: Use environment variable (acceptable for local development)
ENCRYPTION_KEY="0123456789abcdef0123456789abcdef0123456789abcdef0123456789abcdef"

# Azure Key Vault (Production - recommended)
# Fallback to ENCRYPTION_KEY environment variable if Azure Key Vault is not available
AZURE_KEY_VAULT_URL="https://your-keyvault.vault.azure.net/"
ENCRYPTION_KEY_NAME="lottery-api-encryption-key"

# Third-Party API Configuration
# Magayo API for lottery results synchronization
MAGAYO_API_BASE_URL="https://api.magayo.com/v1"
MAGAYO_API_TIMEOUT=30000

# Cache Configuration
CACHE_TTL_PROVIDERS=300000
CACHE_TTL_HIERARCHY=1800000
CACHE_TTL_DEFAULT=60000

# Azure Application Insights (Monitoring)
APPINSIGHTS_INSTRUMENTATIONKEY="your-app-insights-key"
APPLICATIONINSIGHTS_CONNECTION_STRING="InstrumentationKey=your-key;IngestionEndpoint=https://eastasia-1.in.applicationinsights.azure.com/;LiveEndpoint=https://eastasia.livediagnostics.monitor.azure.com/"

# Azure Storage Queue (for background jobs)
AZURE_STORAGE_CONNECTION_STRING="DefaultEndpointsProtocol=https;AccountName=your-account;AccountKey=your-key;EndpointSuffix=core.windows.net"
COMMISSION_QUEUE_NAME="commission-calculations"
RESULTS_QUEUE_NAME="result-processing"

# Logging
LOG_LEVEL="debug"

# Weekly Reset Configuration
WEEKLY_RESET_CRON="0 0 0 * * MON"
WEEKLY_RESET_TIMEZONE="Asia/Kuala_Lumpur"

# Results Sync Configuration
RESULTS_SYNC_CRON="0 15 19 * * *"
RESULTS_SYNC_MAX_RETRIES=5
RESULTS_SYNC_RETRY_DELAY=30000

# Commission Calculation Configuration
MAX_HIERARCHY_DEPTH_SYNC=5
COMMISSION_QUEUE_ENABLED=true

# Report Configuration
REPORT_MAX_DATE_RANGE_DAYS=90
REPORT_DEFAULT_PAGE_SIZE=50

# Prisma Configuration
PRISMA_QUERY_LOG=false
PRISMA_SLOW_QUERY_THRESHOLD=1000

# Security Configuration
BCRYPT_SALT_ROUNDS=12
PASSWORD_MIN_LENGTH=8
SESSION_SECRET="your-session-secret-change-in-production"

# Admin Notification Configuration
ADMIN_NOTIFICATION_EMAIL="admin@yourdomain.com"
ADMIN_NOTIFICATION_WEBHOOK="https://your-webhook-url.com/alerts"

# Feature Flags
ENABLE_API_SYNC=true
ENABLE_CACHE=true
ENABLE_AUDIT_LOGGING=true
