@import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html {
    @apply text-gray-900 antialiased;
    -webkit-tap-highlight-color: transparent;
  }

  body {
    @apply bg-gray-50 font-sans overflow-x-hidden;
    min-height: 100vh;
    min-height: 100dvh;
  }

  * {
    @apply touch-manipulation;
  }
}

@layer components {
  /* Button Base Styles */
  .btn {
    @apply px-6 py-3 rounded-lg font-medium transition-all duration-200 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed select-none;
    min-height: 44px;
    min-width: 44px;
  }

  .btn-primary {
    @apply bg-gradient-to-r from-primary-600 to-primary-700 text-white shadow-lg shadow-primary-500/30 active:shadow-md;
  }

  .btn-accent {
    @apply bg-gradient-to-r from-accent-400 to-accent-500 text-white shadow-lg shadow-accent-500/30 active:shadow-md;
  }

  .btn-secondary {
    @apply bg-white text-gray-700 border-2 border-gray-200 active:bg-gray-50;
  }

  /* Card Styles */
  .card {
    @apply bg-white rounded-2xl shadow-lg p-6 transition-all duration-200;
  }

  .card-hover {
    @apply active:scale-95 active:shadow-md;
  }

  /* Input Styles */
  .input {
    @apply w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-primary-500 focus:ring-2 focus:ring-primary-200 outline-none transition-all;
    min-height: 44px;
  }

  /* Gradient Background */
  .bg-gradient-primary {
    @apply bg-gradient-to-br from-primary-500 via-primary-600 to-primary-700;
  }

  .bg-wave-pattern {
    background-image:
      radial-gradient(circle at 20% 50%, rgba(59, 130, 246, 0.1) 0%, transparent 50%),
      radial-gradient(circle at 80% 80%, rgba(37, 99, 235, 0.15) 0%, transparent 50%),
      radial-gradient(circle at 40% 20%, rgba(29, 78, 216, 0.1) 0%, transparent 50%);
  }

  /* Keypad Styles */
  .keypad-btn {
    @apply bg-gray-800 text-white text-xl font-medium rounded-lg active:bg-gray-700 transition-colors select-none;
    min-height: 56px;
    min-width: 56px;
  }

  /* Toggle Chip */
  .chip {
    @apply px-4 py-2 rounded-full border-2 transition-all duration-200 font-medium select-none active:scale-95;
    min-height: 40px;
  }

  .chip-active {
    @apply bg-primary-600 text-white border-primary-600;
  }

  .chip-inactive {
    @apply bg-white text-gray-600 border-gray-300;
  }

  /* Safe Area Padding for Mobile */
  .safe-top {
    padding-top: env(safe-area-inset-top);
  }

  .safe-bottom {
    padding-bottom: env(safe-area-inset-bottom);
  }

  /* Animation Utilities */
  .animate-press {
    @apply transition-transform active:scale-95;
  }

  .animate-tap {
    @apply transition-all active:scale-90 active:opacity-70;
  }
}

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }

  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }

  /* Prevent flash by ensuring animated elements start in their initial animation state */
  @media (prefers-reduced-motion: no-preference) {
    .animate-scale-in {
      animation: scaleIn 0.3s ease-out both;
    }

    .animate-fade-in {
      animation: fadeIn 0.3s ease-out both;
    }

    .animate-slide-up {
      animation: slideUp 0.3s ease-out both;
    }

    .animate-slide-down {
      animation: slideDown 0.3s ease-out both;
    }
  }
}
